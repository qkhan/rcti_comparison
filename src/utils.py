BANK_LOOKUP = {
    'AAA': 'AAA Commercial',
    'ADC': 'Adelaide Bank Commercial',
    'ADE': 'Adelaide Bank',
    'AFC': 'AFM Commercial',
    'AFM': 'AFM',
    'AFS': 'Automotive Financial Services',
    'ALI': 'ALI Group',
    'ALN': 'Allianz - Direct',
    'ALS': 'All State Home Loans',
    'ALZ': 'Allianz - NAB',
    'AMB': 'Australian Military Bank',
    'AMF': 'Approved Motor Finance ',
    'AMP': 'AMP Bank',
    'ANC': 'ANZ Commercial',
    'ANP': 'ANZ Personal Loans',
    'ANZ': 'ANZ',
    'ARE': 'AREFG',
    'ASC': 'ASCF',
    'ASS': 'AssetLine',
    'AUR': 'Aura Wealth',
    'AVE': 'Loan Ave',
    'BAS': 'Better Choice - Assist',
    'BAU': 'Bank Australia',
    'BCA': 'Bank SA Commercial Equipment ',
    'BCC': 'Better Choice Commercial',
    'BCH': 'Better Choice Home Loans',
    'BCS': 'BC Securities',
    'BIB': 'Bibby',
    'BLU': 'Bluestone',
    'BMM': 'Better Mortgage Management',
    'BMW': 'BMW Australia Finance Limited',
    'BOC': 'Bank of Melbourne Commercial',
    'BOM': 'Bank of Melbourne',
    'BOQ': 'Bank of Queensland',
    'BOS': 'Bank of Sydney',
    'BQC': 'Bank of Queensland Commercial',
    'BSA': 'BankSA',
    'BSC': 'Bank SA Commercial',
    'BWC': 'Bankwest Commercial',
    'BWE': 'Bankwest',
    'CAF': 'CBA Asset Finance',
    'CBA': 'CBA',
    'CBC': 'CBA Commercial',
    'CBF': 'CBFC',
    'CFA': 'Capital Finance',
    'CIC': 'Citi Commercial',
    'CIT': 'Citibank',
    'CLS': 'Collins Securities',
    'CMM': 'Challenger',
    'COS': 'COSL',
    'CSF': 'CarStart Finance',
    'CUA': 'Credit Union Australia',
    'DEP': 'Deposit Assure',
    'DOF': 'Drive On Finance',
    'DOM': 'Domain',
    'DPB': 'Deposit Bond Australia',
    'DPW': 'Deposit Power',
    'DRM': 'WISR',
    'ELO': 'NextGen information',
    'EQU': 'Equitisure',
    'ESA': 'ANZ Asset Finance',
    'FFM': 'Firefighters Mutual Bank',
    'FIN': 'Resimac Prime',
    'FNC': 'Fincore',
    'FNG': 'Homesmart Home Loans',
    'FNL': 'Finsure Docs',
    'FON': 'Finance One',
    'FPE': 'First Permanent',
    'FRI': 'Freedom Insurance',
    'FSP': 'Resimac Specialist',
    'FST': 'First Title',
    'FTF': 'Future Financial',
    'GAT': 'Gateway',
    'GEM': 'Latitude Financial Services',
    'GEP': 'Latitude Personal Finance',
    'GGA': 'GoGetta',
    'GMI': 'Genworth LMI',
    'GRA': 'Granite Home Loans',
    'GRN': 'GreenLight Auto',
    'GUF': 'Guardian Financial',
    'HER': 'Heritage',
    'HOM': 'Resimac (formerly Homeloans)',
    'HOS': 'HomeStart SA Only',
    'HPB': 'Health Professionals Bank',
    'HSB': 'HSBC Bank',
    'HSF': 'Heartland Seniors Finance',
    'HSL': 'NAB',
    'IDE': 'Iden',
    'IMB': 'IMB',
    'IMC': 'IMB Commercial',
    'INC': 'ING Commercial',
    'ING': 'ING',
    'JUD': 'Judo Capital',
    'KEY': 'Keystart ',
    'LAC': 'La Trobe Commercial',
    'LAT': 'La Trobe',
    'LBR': 'Life Broker',
    'LCH': 'Leaseit',
    'LIA': 'Liberty FS Asset',
    'LIB': 'Liberty FS',
    'LIC': 'Liberty FS Commercial',
    'LIL': 'Liberty FS Motor',
    'LMF': 'Latitude Motor',
    'LNK': 'Link Finance Group',
    'LOA': 'LoanKit',
    'LTB': 'LizTestBank',
    'LTD': 'Loans Today',
    'LWS': 'Link Wealth Solutions',
    'MAC': 'Macquarie Bank',
    'MAI': 'Macquarie Insurance',
    'MAL': 'Macquarie Leasing',
    'MAP': 'Macquarie Personal Loans',
    'MAR': 'Mariner Mortgages',
    'MAX': 'Maxis Loans',
    'MCA': 'BOM Commercial Equipment',
    'MCO': 'Macquarie Commercial',
    'MCW': 'Bluegum home loans',
    'MEB': 'ME Bank',
    'MED': 'Medfin',
    'MET': 'Metro Finance',
    'MEZ': 'Mortgage Ezy',
    'MFL': 'Mildura Finance',
    'MKM': 'MKM Capital',
    'MMO': 'Merchant Mortgages',
    'MON': 'Money3',
    'MOP': 'Money Place',
    'MOR': 'Mortgage Mart',
    'MOV': 'Move Bank',
    'MYL': 'MyLoan',
    'MYS': 'MyState',
    'NAB': 'NAB',
    'NAC': 'NAB Commercial',
    'NAL': 'NAB Leasing',
    'NCP': 'Nationalcorp Home Loans',
    'NEW': 'Newcastle Permanent',
    'NON': 'NON',
    'NOW': 'NOW Finance',
    'NWC': 'Nationwide Capital',
    'OFG': 'OFG',
    'OSR': 'OSR',
    'OTH': 'Other',
    'PAN': 'Police and Nurses',
    'PAR': 'Paramount',
    'PEA': 'Pepper Asset Finance',
    'PEP': 'Pepper Money',
    'PMC': 'Premium Capital',
    'PMI': 'QBE Mortgage Insurance',
    'PPL': 'Pepper Personal Loans',
    'PRA': 'Parabroking',
    'PRO': 'Provident Capital',
    'PSA': 'Prospa Advance',
    'QCU': 'Qudos Bank',
    'RAM': 'RAMS',
    'RAV': 'RACV Finance Ltd',
    'RED': 'RedZed Lending Solutions',
    'RES': 'Resimac*',
    'RMC': 'Resimac Commercial',
    'ROC': 'The Rock Building Society',
    'RST': 'RateSetter',
    'SAM': 'Sam Loans',
    'SCA': 'St George Commercial Equipment',
    'SCO': 'Scottish Pacific',
    'SEL': 'SelfCo',
    'SPL': 'St George Personal Loans',
    'SPW': 'Spectrum Wealth',
    'STC': 'St George Commercial',
    'STG': 'St George',
    'SUC': 'Suncorp Commercial',
    'SUN': 'Suncorp',
    'TES': 'Test',
    'THT': 'Think Tank',
    'TIO': 'TIO',
    'TMB': 'Teachers Mutual Bank',
    'TON': 'Firstmac',
    'UNI': 'UniBank',
    'VER': 'Vero',
    'VIS': 'Vision WHL Bank Funding',
    'VMG': 'Victoria Mortgage Group',
    'VOW': 'VOW',
    'WEC': 'Westpac Commercial',
    'WEF': 'Westpac Equipment Finance',
    'WEI': 'Westpac Insurance',
    'WES': 'Westpac',
    'WID': 'Auswide Bank',
    'YMF': 'AMMF',
    'YMR': 'Your Manager Pty Ltd'
}


def bank_fullname(code: str):
    return BANK_LOOKUP.get(code, code)


def sanitize(s: str):
    s_sanitized = s.strip().split(' ')
    s_sanitized = ''.join(s_sanitized).split('_')
    s_sanitized = ''.join(s_sanitized)
    s_sanitized = ''.join(e for e in s_sanitized if e.isalnum())
    return s_sanitized.lower()


def merge_lists(l1: list, l2: list) -> list:
    difference = list(set(l2) - set(l1))
    return list(l1) + difference


def money_to_float(value: str):
    new_value = value
    new_value = new_value.replace('$', '')
    new_value = new_value.replace(',', '')
    return float(new_value)


def compare_numbers(n1, n2, margin):
    n1val = str(n1)
    n2val = str(n2)

    try:
        n1val = money_to_float(n1val)
        n2val = money_to_float(n2val)
    except ValueError:
        if n1val == '' or n2val == '':
            return n1val == n2val
        return False

    return abs(n1val - n2val) <= margin + 0.000001


class safelist(list):
    def get(self, index, default=None):
        try:
            return self.__getitem__(index)
        except IndexError:
            return default


# Just a few colors to use in the console logs.
class bcolors:
    PURPLE = '\033[95m'
    BLUE = '\033[94m'
    GREEN = '\033[92m'
    YELLOW = '\033[93m'
    RED = '\033[91m'
    ENDC = '\033[0m'
    BOLD = '\033[1m'
    UNDERLINE = '\033[4m'
